{"version":3,"sources":["webpack:///external \"React\"","webpack:///./src/apps/autosuggest-address/style.scss","webpack:///external \"lodash\"","webpack:///./src/apps/autosuggest-address/actions/index.js","webpack:///./src/components/LoadingBar.js","webpack:///./src/apps/autosuggest-address/containers/App.js","webpack:///./src/api/index.js","webpack:///./src/apps/autosuggest-address/reducers/app.js","webpack:///./src/apps/autosuggest-address/reducers/index.js","webpack:///./src/apps/autosuggest-address/sagas/app.js","webpack:///./src/apps/autosuggest-address/sagas/index.js","webpack:///./src/apps/autosuggest-address/index.js","webpack:///external \"ReactDOM\"","webpack:///external \"jQuery\""],"names":["module","exports","React","lodash","APP_PROP_CHANGE","SEARCH_ADDRESSES","SEARCH_ADDRESSES_SUCCESS","SEARCH_ADDRESSES_ERROR","searchAddresses","payload","type","appPropChange","Loading","props","xmlns","style","margin","background","display","width","height","viewBox","preserveAspectRatio","x","y","fill","attributeName","dur","repeatCount","calcMode","keyTimes","keySplines","values","begin","propTypes","defaultProps","SuggestionResults","lazy","App","_queryAddresses","postcode","hash","md5","cacheId","addresses","_sessionStorage","getJSON","isEmpty","args","ep","method","postcodexLookupObj","isLoggedIn","options","headers","debounceSearchAddreses","handlePostCodeInputChange","e","target","value","handleClickItem","address","addressLine1","addressLine2","addressLine3","postTown","_address1Input","filter","Boolean","join","_address2Input","_townInput","unmountAppEntry","debounce","prevProps","prevState","snapshot","searchingAddresses","this","_postCodeInput","setJSON","form","querySelector","plAutosuggestAddrObj","postcodeSelector","_counrtyInput","countrySelector","address1Selector","address2Selector","citySelector","postCodeInput","addEventListener","removeEventListener","className","postcodexLookupApp","searching","fallback","onClick","el","Component","PropTypes","bool","array","func","string","instanceOf","Element","isRequired","hot","connect","state","app","apiRequest","sendRequest","omit","defaultArgs","url","apiUrl","restNonce","timeout","dataType","contentType","toLowerCase","params","data","axios","then","response","catch","error","memoize","id","varName","compiled","evaluate","interpolate","escape","variable","template","document","getElementById","innerHTML","get","key","Storage","sessionStorage","getItem","set","setItem","console","log","JSON","parse","stringify","INITIAL_STATE","searchError","combineReducers","action","sendSearchAddresses","watchSearchAddresses","call","put","takeLatest","rootSaga","all","__webpack_public_path__","publicPath","querySelectorAll","countryInput","initApp","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","sagaMiddleware","createSagaMiddleware","store","createStore","reducers","applyMiddleware","run","postcodeInput","formDataPlApp","getAttribute","uniqueId","setAttribute","root","createElement","classList","add","body","appendChild","offset","mainElement","top","left","element","offsetTop","offsetLeft","offsetParent","offsetHeight","cumulativeOffset","adminBarHeight","clientWidth","ReactDOM","render","unmountComponentAtNode","remove","togglePostCodeDesc","show","postcodeDesc","length","autosearch","innerText","forEach","node","closest","removeChild","toggleSearchBtnDisplay","isCheckout","searchBtn","textContent","handleSearchBtnClick","parentNode","insertBefore","nextSibling","btn","postCodeChange","inputFields","fieldId","field","container","toggleFieldsDisplay","trim","debouncePostcodeChange","appNode","input","contains","$","on","jQuery"],"mappings":"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","file":"apps/autosuggest-address/index.js","sourcesContent":["module.exports = React;","// extracted by mini-css-extract-plugin\nexport default {\"postcodex-lookup-app\":\"postcodex-lookup-app-2aY85OUU\",\"postcodexLookupApp\":\"postcodex-lookup-app-2aY85OUU\",\"searching\":\"searching-cEsjjE5-\",\"search-results-container\":\"search-results-container-Wvb-ux4V\",\"searchResultsContainer\":\"search-results-container-Wvb-ux4V\",\"results-heading\":\"results-heading-1wQjQw_8\",\"resultsHeading\":\"results-heading-1wQjQw_8\",\"result-item\":\"result-item-2Lrwk9lR\",\"resultItem\":\"result-item-2Lrwk9lR\"};","module.exports = lodash;","/**\n * Author: postcodex\n * Date: 10/5/20\n * Time: 5:31 PM\n */\n\nexport const\nAPP_PROP_CHANGE          = 'APP_PROP_CHANGE',\n\nSEARCH_ADDRESSES         = 'SEARCH_ADDRESSES',\nSEARCH_ADDRESSES_SUCCESS = 'SEARCH_ADDRESSES_SUCCESS',\nSEARCH_ADDRESSES_ERROR   = 'SEARCH_ADDRESSES_ERROR',\n\nsearchAddresses          = ( payload ) => {\n\treturn { type : SEARCH_ADDRESSES, payload };\n},\n\nappPropChange            = ( payload ) => {\n\treturn { type : APP_PROP_CHANGE, payload };\n};\n","/**\n * Author: postcodex\n * Date: 10/7/20\n * Time: 10:49 AM\n */\nimport React from 'react';\n\nconst Loading = ( props ) => {\n\treturn (\n\t\t<svg\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\tstyle={ { margin : 0, background : 'transparent', display : 'inline-block' } }\n\t\t\twidth=\"32px\"\n\t\t\theight=\"32px\"\n\t\t\tviewBox=\"0 0 100 100\"\n\t\t\tpreserveAspectRatio=\"xMidYMid\"\n\t\t>\n\t\t\t<rect x=\"0\" y=\"30\" width=\"10\" height=\"40\" fill=\"#353535\">\n\t\t\t\t<animate\n\t\t\t\t\tattributeName=\"opacity\" dur=\"2s\" repeatCount=\"indefinite\" calcMode=\"spline\" keyTimes=\"0;0.5;1\"\n\t\t\t\t\tkeySplines=\"0.5 0 0.5 1;0.5 0 0.5 1\" values=\"1;0.2;1\" begin=\"-1.2\"\n\t\t\t\t/>\n\t\t\t</rect>\n\t\t\t<rect x=\"20\" y=\"30\" width=\"10\" height=\"40\" fill=\"#666666\">\n\t\t\t\t<animate\n\t\t\t\t\tattributeName=\"opacity\" dur=\"2s\" repeatCount=\"indefinite\" calcMode=\"spline\" keyTimes=\"0;0.5;1\"\n\t\t\t\t\tkeySplines=\"0.5 0 0.5 1;0.5 0 0.5 1\" values=\"1;0.2;1\" begin=\"-0.8\"\n\t\t\t\t/>\n\t\t\t</rect>\n\t\t\t<rect x=\"40\" y=\"30\" width=\"10\" height=\"40\" fill=\"#9b9b9b\">\n\t\t\t\t<animate\n\t\t\t\t\tattributeName=\"opacity\" dur=\"2s\" repeatCount=\"indefinite\" calcMode=\"spline\" keyTimes=\"0;0.5;1\"\n\t\t\t\t\tkeySplines=\"0.5 0 0.5 1;0.5 0 0.5 1\" values=\"1;0.2;1\" begin=\"-0.4\"\n\t\t\t\t/>\n\t\t\t</rect>\n\t\t\t<rect x=\"60\" y=\"30\" width=\"10\" height=\"40\" fill=\"#d4d4d4\">\n\t\t\t\t<animate\n\t\t\t\t\tattributeName=\"opacity\" dur=\"2s\" repeatCount=\"indefinite\" calcMode=\"spline\" keyTimes=\"0;0.5;1\"\n\t\t\t\t\tkeySplines=\"0.5 0 0.5 1;0.5 0 0.5 1\" values=\"1;0.2;1\" begin=\"-2\"\n\t\t\t\t/>\n\t\t\t</rect>\n\t\t\t<rect x=\"80\" y=\"30\" width=\"10\" height=\"40\" fill=\"#e3e3e3\">\n\t\t\t\t<animate\n\t\t\t\t\tattributeName=\"opacity\" dur=\"2s\" repeatCount=\"indefinite\" calcMode=\"spline\" keyTimes=\"0;0.5;1\"\n\t\t\t\t\tkeySplines=\"0.5 0 0.5 1;0.5 0 0.5 1\" values=\"1;0.2;1\" begin=\"-2\"\n\t\t\t\t/>\n\t\t\t</rect>\n\t\t</svg>\n\t);\n};\n\nLoading.propTypes = {};\n\nLoading.defaultProps = {};\n\nexport default Loading;\n","/**\n * Author: postcodex\n */\nimport React, { Component, Suspense, lazy } from 'react';\nimport { hot } from 'react-hot-loader';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport style from '../style.scss';\nimport { appPropChange, searchAddresses } from '../actions';\nimport { debounce, isEmpty } from 'lodash';\nimport md5 from 'md5';\nimport { _sessionStorage } from '../../../api';\nimport LoadingBar from '../../../components/LoadingBar';\n\nconst SuggestionResults = lazy( () => import(\n\t/* webpackChunkName: \"apps/autosuggest-address/chunks/suggestion-results\" */\n\t/* webpackMode: \"lazy\" */\n\t/* webpackPrefetch: true */\n\t'../components/SuggestionResults'\n\t)\n);\n\nclass App extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.debounceSearchAddreses = debounce( this.debounceSearchAddreses, 700 );\n\t}\n\n\tget postCodeInput() {\n\t\treturn this._postCodeInput;\n\t}\n\n\tset postCodeInput( el ) {\n\t\tthis._postCodeInput = el;\n\t}\n\n\tget billingCountryInput() {\n\t\treturn this._counrtyInput;\n\t}\n\n\tset billingCountryInput( el ) {\n\t\tthis._counrtyInput = el;\n\t}\n\n\tcomponentDidUpdate( prevProps, prevState, snapshot ) {\n\t\tif ( prevProps.searchingAddresses && !this.props.searchingAddresses ) {\n\t\t\tif ( isEmpty( this.props.addresses ) ) {\n\t\t\t\tthis.props.unmountAppEntry();\n\t\t\t} else {\n\t\t\t\tconst postcode = this._postCodeInput.value;\n\t\t\t\tif ( postcode ) {\n\t\t\t\t\tconst hash = md5( `${ this.props.cacheId }_${ postcode }` );\n\t\t\t\t\t_sessionStorage.setJSON( `postcode_${ hash }`, this.props.addresses );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tthis._postCodeInput = this.props.form.querySelector( plAutosuggestAddrObj.postcodeSelector );\n\t\tthis._counrtyInput = this.props.form.querySelector( plAutosuggestAddrObj.countrySelector );\n\t\tthis._address1Input = this.props.form.querySelector( plAutosuggestAddrObj.address1Selector );\n\t\tthis._address2Input = this.props.form.querySelector( plAutosuggestAddrObj.address2Selector );\n\t\tthis._townInput = this.props.form.querySelector( plAutosuggestAddrObj.citySelector );\n\t\tthis.postCodeInput.addEventListener( 'keyup', this.handlePostCodeInputChange );\n\n\t\tif ( this.postCodeInput.value ) {\n\t\t\tthis._queryAddresses( this.postCodeInput.value );\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.postCodeInput.removeEventListener( 'keyup', this.handlePostCodeInputChange );\n\t}\n\n\t_queryAddresses = ( postcode ) => {\n\n\t\tconst hash = md5( `${ this.props.cacheId }_${ postcode }` );\n\t\tconst addresses = _sessionStorage.getJSON( `postcode_${ hash }` );\n\t\tif ( !isEmpty( addresses ) ) {\n\t\t\tthis.props.appPropChange( { addresses } );\n\t\t\treturn;\n\t\t}\n\n\t\tlet args = {\n\t\t\tep     : 'search-addresses',\n\t\t\tmethod : 'GET',\n\t\t\tpostcode\n\t\t};\n\t\tif ( !postcodexLookupObj.isLoggedIn ) {\n\t\t\targs.options = { headers : {} };\n\t\t}\n\n\t\tthis.props.searchAddresses( args );\n\t};\n\n\tdebounceSearchAddreses = ( postcode ) => {\n\t\tthis._queryAddresses( postcode );\n\t};\n\n\thandlePostCodeInputChange = ( e ) => {\n\t\tthis.debounceSearchAddreses( e.target.value );\n\t};\n\n\thandleClickItem = ( address, e ) => {\n\t\tconst { addressLine1, addressLine2, addressLine3, postTown } = address;\n\n\t\tif ( this._address1Input ) {\n\t\t\tthis._address1Input.value = [addressLine1, addressLine2].filter( Boolean ).join( ', ' );\n\t\t}\n\t\tif ( this._address2Input ) {\n\t\t\tthis._address2Input.value = addressLine3;\n\t\t}\n\t\tif ( this._townInput ) {\n\t\t\tthis._townInput.value = postTown;\n\t\t}\n\n\t\tthis.props.unmountAppEntry();\n\t};\n\n\trender() {\n\t\tconst { searchingAddresses, addresses } = this.props;\n\n\t\treturn (\n\t\t\t<div className={ `postcodex-lookup-app ${ style.postcodexLookupApp }` }>\n\t\t\t\t{ ( searchingAddresses && <p className={ style.searching }>Searching...</p> ) ||\n\t\t\t\t( !isEmpty( addresses ) &&\n\t\t\t\t\t<Suspense fallback={ <LoadingBar /> }>\n\t\t\t\t\t\t<SuggestionResults addresses={ addresses } onClick={ this.handleClickItem } />\n\t\t\t\t\t</Suspense> )\n\t\t\t\t}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nApp.propTypes = {\n\tsearchingAddresses : PropTypes.bool,\n\taddresses          : PropTypes.array,\n\tunmountAppEntry    : PropTypes.func,\n\tcacheId            : PropTypes.string,\n\tform               : PropTypes.instanceOf( Element ).isRequired,\n};\n\nexport default hot( module )( connect(\n\tstate => {\n\t\treturn {\n\t\t\t...state.app\n\t\t};\n\t},\n\t{\n\t\tappPropChange,\n\t\tsearchAddresses,\n\t}\n)( App ) );\n","/**\n * Author: postcodex\n * @todo define postcodexLookupObj in php wp_localize_script()\n */\nimport axios from 'axios';\nimport memoize from 'lodash/memoize';\nimport template from 'lodash/template';\nimport isNull from 'lodash/isNull';\nimport omit from 'lodash/omit';\n\nexport const apiRequest = ( props = {} ) => {\n\tconst { ep, options, method } = props;\n\n\treturn sendRequest( ep, omit( props, ['ep', 'options', 'method'] ), method || 'POST', options || {} );\n};\n\nexport const sendRequest = ( ep, props = null, method = 'POST', options = {} ) => {\n\tconst defaultArgs = {\n\t\turl         : `${ postcodexLookupObj.apiUrl }${ ep }`,\n\t\tmethod      : method || 'POST',\n\t\theaders     : { 'X-WP-Nonce' : postcodexLookupObj.restNonce },\n\t\ttimeout     : 30000,\n\t\tdataType    : 'json',\n\t\tcontentType : 'application/json',\n\t};\n\n\tconst args = ( 'get' === method.toLowerCase() )\n\t             ? { ...defaultArgs, params : props, ...options }\n\t             : { ...defaultArgs, data : props, ...options };\n\n\treturn axios( args )\n\t\t.then(\n\t\t\tresponse => {\n\t\t\t\treturn response;\n\t\t\t}\n\t\t)\n\t\t.catch(\n\t\t\terror => {\n\t\t\t\treturn ( { error } );\n\t\t\t}\n\t\t);\n};\n\n/**\n * Usage:\n * Somewhere on the page you have the following markup:\n * <script id=\"tmpl-my-template\" type=\"text/html\">\n *     <div class=\"some-class\">\n *         {{ jsVariableNameObject.whatever }}\n *     </div>\n * </script>\n *\n * // then on your component file:\n *\n * // Load the template\n * const myTemplate = _template( 'my-template', 'jsVariableNameObject' );\n *\n * // Output the template passing the variable for output. Example variable object:\n * const someObjectInAppToBeDisplayed = {\n *     whatever : 'Sample Text'\n * };\n * myTemplate( someObjectInAppToBeDisplayed );\n */\nexport const _template = memoize( function ( id, varName ) {\n\tconst variable = varName || 'data';\n\tlet compiled,\n\t    options = {\n\t\t    evaluate    : /<#([\\s\\S]+?)#>/g,\n\t\t    interpolate : /\\{\\{\\{([\\s\\S]+?)\\}\\}\\}/g,\n\t\t    escape      : /\\{\\{([^\\}]+?)\\}\\}(?!\\})/g,\n\t\t    variable    : variable\n\t    };\n\n\treturn function ( data ) {\n\t\tcompiled = compiled || template( document.getElementById( `tmpl-${ id }` ).innerHTML, options );\n\t\treturn compiled( data );\n\t};\n} );\n\n/**\n * Create EventSource object\n * @param url\n * @returns object\n */\nexport const createSource = ( url ) => {\n\tconst source = new EventSource( url );\n\tlet deferred;\n\n\tsource.onmessage = ( event ) => {\n\t\tconst json = JSON.parse( event.data );\n\n\t\tif ( deferred ) {\n\t\t\tdeferred.resolve( json );\n\t\t\tdeferred = null;\n\t\t}\n\t};\n\n\tsource.onopen = ( event ) => {\n\t\tconsole.log( 'eventsource open' );\n\t};\n\n\tsource.onerror = ( event ) => {\n\t\tconst source = event.target;\n\t\tconsole.log( 'eventsource error', event );\n\t\t//source.close();\n\t};\n\n\treturn {\n\t\tnextMessage() {\n\t\t\tif ( !deferred ) {\n\t\t\t\tdeferred = {};\n\t\t\t\tdeferred.promise = new Promise( ( resolve ) => deferred.resolve = resolve );\n\t\t\t}\n\n\t\t\treturn deferred.promise;\n\t\t},\n\t\tsource\n\t};\n};\n\nexport const _localStorage = {\n\tgetItem : ( key ) => {\n\t\tif ( typeof Storage !== 'undefined' ) {\n\t\t\treturn localStorage.getItem( key );\n\t\t}\n\n\t\treturn null;\n\t},\n\n\tsetItem : ( key, value ) => {\n\t\tif ( typeof Storage !== 'undefined' ) {\n\t\t\ttry {\n\t\t\t\tlocalStorage.setItem( key, value );\n\t\t\t} catch ( e ) {\n\t\t\t\tconsole.log( e );\n\t\t\t}\n\t\t}\n\t},\n\n\tgetJSON : ( key ) => {\n\t\tif ( typeof Storage !== 'undefined' ) {\n\t\t\treturn JSON.parse( localStorage.getItem( key ) );\n\t\t}\n\n\t\treturn null;\n\t},\n\n\tsetJSON : ( key, value ) => {\n\t\tif ( typeof Storage !== 'undefined' ) {\n\t\t\ttry {\n\t\t\t\tlocalStorage.setItem( key, JSON.stringify( value ) );\n\t\t\t} catch ( e ) {\n\t\t\t\tconsole.log( e );\n\t\t\t}\n\t\t}\n\t},\n};\n\nexport const _sessionStorage = {\n\tget : ( key ) => {\n\t\tif ( typeof Storage !== 'undefined' ) {\n\t\t\treturn sessionStorage.getItem( key );\n\t\t}\n\n\t\treturn null;\n\t},\n\n\tset : ( key, value ) => {\n\t\tif ( typeof Storage !== 'undefined' ) {\n\t\t\ttry {\n\t\t\t\tsessionStorage.setItem( key, value );\n\t\t\t} catch ( e ) {\n\t\t\t\tconsole.log( e );\n\t\t\t}\n\t\t}\n\t},\n\n\tgetJSON : ( key ) => {\n\t\tif ( typeof Storage !== 'undefined' ) {\n\t\t\treturn JSON.parse( sessionStorage.getItem( key ) );\n\t\t}\n\n\t\treturn null;\n\t},\n\n\tsetJSON : ( key, value ) => {\n\t\tif ( typeof Storage !== 'undefined' ) {\n\t\t\ttry {\n\t\t\t\tsessionStorage.setItem( key, JSON.stringify( value ) );\n\t\t\t} catch ( e ) {\n\t\t\t\tconsole.log( e );\n\t\t\t}\n\t\t}\n\t},\n};\n\n/**\n * Usage:\n * hashCode( data ).then( hash => { ...do something with `hash` } );\n *\n * @param message\n * @param maxChars\n * @returns {Promise<string>}\n */\nexport const hashCode = async ( message, maxChars = 8 ) => {\n\tlet code = '';\n\tif ( 'undefined' !== typeof crypto && 'undefined' !== typeof crypto.subtle && 'undefined' !== typeof crypto.subtle.digest ) {\n\t\tconst msgUint8   = new TextEncoder().encode( JSON.stringify( message ) ),\n\t\t      hashBuffer = await crypto.subtle.digest( 'SHA-256', msgUint8 ),\n\t\t      hashArray  = Array.from( new Uint8Array( hashBuffer ) );\n\n\t\tcode = hashArray.map( b => b.toString( 16 ).padStart( 2, '0' ) ).join( '' );\n\t} else {\n\t\tcode = md5( JSON.stringify( message ) );\n\t}\n\n\tif ( isNull( maxChars ) && maxChars !== code.length ) {\n\t\treturn code;\n\t}\n\n\treturn code.substr( 0, maxChars );\n};\n","/**\n * Author: postcodex\n * Date: 2018/08/23\n * Time: 2:01 PM\n */\nimport {\n\tAPP_PROP_CHANGE,\n\tSEARCH_ADDRESSES,\n\tSEARCH_ADDRESSES_SUCCESS,\n\tSEARCH_ADDRESSES_ERROR,\n} from '../actions';\n\nconst INITIAL_STATE = {\n\tsearchingAddresses : false,\n\taddresses          : [],\n\tsearchError        : null,\n};\n\nexport default function ( state = INITIAL_STATE, action ) {\n\tswitch ( action.type ) {\n\t\tcase APP_PROP_CHANGE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...action.payload,\n\t\t\t};\n\t\tcase SEARCH_ADDRESSES:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...action.payload,\n\t\t\t\tsearchingAddresses : true,\n\t\t\t};\n\t\tcase SEARCH_ADDRESSES_SUCCESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...action.data,\n\t\t\t\tsearchingAddresses : false,\n\t\t\t};\n\t\tcase SEARCH_ADDRESSES_ERROR:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsearchError : { ...action.error.response.data },\n\t\t\t\tsearchingAddresses : false,\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n","/**\n * Author: postcodex\n * Date: 2018/08/23\n * Time: 1:57 PM\n */\nimport { combineReducers } from 'redux';\nimport AppReducer from './app';\n\nexport default combineReducers(\n\t{\n\t\tapp : AppReducer\n\t}\n);\n","/**\n * Author: postcodex\n * Date: 10/5/20\n * Time: 5:58 PM\n */\nimport { put, call, takeLatest } from 'redux-saga/effects';\nimport { apiRequest } from '../../../api';\nimport { SEARCH_ADDRESSES, SEARCH_ADDRESSES_SUCCESS, SEARCH_ADDRESSES_ERROR } from '../actions';\n\n//region Regular AJAX request\nfunction* sendSearchAddresses( action ) {\n\tconst { data, error } = yield call( apiRequest, action.payload );\n\n\tif ( data ) {\n\t\tyield put( { type : SEARCH_ADDRESSES_SUCCESS, data } );\n\t} else {\n\t\tyield put( { type : SEARCH_ADDRESSES_ERROR, error } );\n\t}\n}\n\nexport function* watchSearchAddresses() {\n\tyield takeLatest( SEARCH_ADDRESSES, sendSearchAddresses );\n}\n\n//endregion\n","/**\n * Author: postcodex\n * Date: 2018/08/23\n * Time: 1:57 PM\n */\nimport { all } from 'redux-saga/effects';\nimport { watchSearchAddresses } from './app';\n\nexport default function* rootSaga() {\n\tyield all( [\n\t\twatchSearchAddresses()\n\t] );\n}\n","/**\n * Author: postcodex\n */\n__webpack_public_path__ = `${ postcodexLookupObj.publicPath }/`;\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport $ from 'jquery';\nimport { debounce, uniqueId } from 'lodash';\nimport createSagaMiddleware from 'redux-saga';\nimport { applyMiddleware, createStore, compose } from 'redux';\nimport { Provider } from 'react-redux';\nimport reducers from './reducers';\nimport rootSaga from './sagas';\nimport App from './containers/App';\n\nconst postCodeInput = document.querySelectorAll( plAutosuggestAddrObj.postcodeSelector ),\n      countryInput  = document.querySelector( plAutosuggestAddrObj.countrySelector );\n\nconst initApp = ( form ) => {\n\tconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\tconst sagaMiddleware = createSagaMiddleware();\n\tconst store = createStore( reducers, composeEnhancers( applyMiddleware( sagaMiddleware ) ) );\n\tsagaMiddleware.run( rootSaga );\n\n\tconst postcodeInput = form.querySelector( plAutosuggestAddrObj.postcodeSelector );\n\tconst formDataPlApp = form.getAttribute( 'data-pl-app' );\n\tconst cacheId = formDataPlApp ?? uniqueId( 'plApp' );\n\tif ( !formDataPlApp ) {\n\t\tform.setAttribute( 'data-pl-app', cacheId );\n\t}\n\n\tconst root = document.createElement( 'div' );\n\troot.id = cacheId;\n\troot.classList.add( 'pl-autosuggest-address', 'pl-custom' );\n\tdocument.body.appendChild( root );\n\n\tconst cumulativeOffset = ( mainElement ) => {\n\t\tlet top = 0,\n\t\t    left = 0,\n\t\t    element = mainElement;\n\n\t\tdo {\n\t\t\ttop += element.offsetTop || 0;\n\t\t\tleft += element.offsetLeft || 0;\n\t\t\telement = element.offsetParent;\n\t\t} while ( element );\n\n\t\treturn {\n\t\t\ttop  : top + mainElement.offsetHeight,\n\t\t\tleft : left\n\t\t};\n\t};\n\tconst offset = cumulativeOffset( postcodeInput );\n\n\tlet adminBarHeight = document.getElementById( 'wpadminbar' )?.offsetHeight ?? 0;\n\troot.style.top = offset.top + adminBarHeight + 'px';\n\troot.style.left = offset.left + 'px';\n\troot.style.width = 200 < postcodeInput.clientWidth ? postcodeInput.clientWidth + 'px' : '200px';\n\n\tReactDOM.render(\n\t\t<Provider store={ store }>\n\t\t\t<App\n\t\t\t\tunmountAppEntry={ unmountAppEntry }\n\t\t\t\tcacheId={ cacheId }\n\t\t\t\tform={ form }\n\t\t\t/>\n\t\t</Provider>,\n\t\troot\n\t);\n};\n\nconst unmountAppEntry = () => {\n\tconst appRoot = document.querySelector( '.pl-autosuggest-address' );\n\tif ( !appRoot ) {\n\t\treturn;\n\t}\n\tReactDOM.unmountComponentAtNode( document.querySelector( '.pl-autosuggest-address' ) );\n\tdocument.querySelector( '.pl-autosuggest-address' ).remove();\n};\n\nconst toggleFieldsDisplay = ( show = true ) => {\n\tconst inputFields = [\n\t\tplAutosuggestAddrObj.address1Selector,\n\t\tplAutosuggestAddrObj.address2Selector,\n\t\tplAutosuggestAddrObj.citySelector,\n\t];\n\n\tif ( !show ) {\n\t\tinputFields.forEach( fieldId => {\n\t\t\tconst field     = document.querySelector( fieldId ),\n\t\t\t      container = field?.closest( `${ fieldId }_field` );\n\t\t\tif ( container ) {\n\t\t\t\tcontainer.style.display = 'none';\n\t\t\t}\n\t\t} );\n\t} else {\n\t\tinputFields.forEach( fieldId => {\n\t\t\tconst field     = document.querySelector( fieldId ),\n\t\t\t      container = field?.closest( `${ fieldId }_field` );\n\t\t\tif ( container ) {\n\t\t\t\tcontainer.style.display = 'block';\n\t\t\t}\n\t\t} );\n\t}\n};\n\nconst togglePostCodeDesc = ( show = true ) => {\n\tlet postcodeDesc = document.querySelectorAll( '.pl-postcode-desc' );\n\tif ( !postcodeDesc.length && show ) {\n\t\tpostcodeDesc = document.createElement( 'span' );\n\t\tpostcodeDesc.classList.add( 'pl-postcode-desc' );\n\t\tif ( 'yes' === plAutosuggestAddrObj.autosearch ) {\n\t\t\tpostcodeDesc.innerText = 'Enter your postcode to automatically find your address.';\n\t\t} else {\n\t\t\tpostcodeDesc.innerHTML = 'Enter your postcode and click <code>SEARCH</code> button to find your address.';\n\t\t}\n\n\t\tpostCodeInput.forEach( node => {\n\t\t\tnode.closest( `#${ node.id }_field` )?.appendChild( postcodeDesc );\n\t\t} );\n\t} else if ( postcodeDesc ) {\n\t\tpostCodeInput.forEach( node => {\n\t\t\tconsole.log( node );\n\t\t\tnode.closest( `#${ node.id }_field` )?.removeChild( postcodeDesc );\n\t\t} );\n\t}\n};\n\nconst toggleSearchBtnDisplay = ( show = true ) => {\n\tconst { autosearch, isCheckout } = plAutosuggestAddrObj;\n\n\tif ( ( !isCheckout || ( isCheckout && countryInput && 'GB' === countryInput.value ) ) && show && 'no' === autosearch ) {\n\t\tdocument.body.classList.add( 'pl-no-autosuggest' );\n\t\tpostCodeInput.forEach( node => {\n\t\t\tconst searchBtn = document.createElement( 'button' );\n\t\t\tsearchBtn.classList.add( 'pl-search-addresses-btn', 'btn', 'btn-secondary' );\n\t\t\tsearchBtn.type = 'button';\n\t\t\tsearchBtn.textContent = 'Search';\n\t\t\tsearchBtn.addEventListener( 'click', handleSearchBtnClick );\n\t\t\tnode.parentNode.insertBefore( searchBtn, node.nextSibling );\n\t\t} );\n\t} else if ( 'no' === autosearch && ( !show || ( isCheckout && countryInput && 'GB' !== countryInput.value ) ) ) {\n\t\tconst searchBtn = document.querySelectorAll( '.pl-search-addresses-btn' );\n\t\tif ( !!searchBtn.length ) {\n\t\t\tsearchBtn.forEach( btn => {\n\t\t\t\tbtn.remove();\n\t\t\t\tdocument.body.classList.remove( 'pl-no-autosuggest' );\n\t\t\t} );\n\t\t}\n\t}\n};\n\nconst handleSearchBtnClick = ( e ) => {\n\tconst form = e.target.closest( 'form' );\n\tinitApp( form );\n};\n\nconst debouncedToggleFieldsDisplay = debounce( () => { toggleFieldsDisplay( false );}, 10 );\n\nconst postCodeChange = ( e ) => {\n\tconst form = e.target.closest( 'form' );\n\tif ( ( plAutosuggestAddrObj.isCheckout && countryInput && 'GB' === countryInput.value ) ||\n\t\t!form.querySelector( '.pl-autosuggest-address' ) && 2 <= e.target.value.trim().length ) {\n\t\tinitApp( form );\n\t} else if ( form.querySelector( '.pl-autosuggest-address' ) && 2 > e.target.value.trim().length ) {\n\t\tunmountAppEntry( form );\n\t}\n};\n\nconst debouncePostcodeChange = debounce( ( e ) => { postCodeChange( e );}, 700 );\n\nif ( !!postCodeInput.length && 'yes' === plAutosuggestAddrObj.autosearch ) {\n\tpostCodeInput.forEach( node => {\n\t\tnode.addEventListener( 'keyup', debouncePostcodeChange );\n\t\tnode.addEventListener( 'focus', postCodeChange );\n\t} );\n}\n\ndocument.addEventListener( 'mousedown', ( e ) => {\n\tconst appNode = document.querySelectorAll( '.pl-autosuggest-address' );\n\tpostCodeInput.forEach( input => {\n\t\tif ( input && !input?.contains( e.target ) && !!appNode.length ) {\n\t\t\tappNode.forEach( node => {\n\t\t\t\tif ( !node.contains( e.target ) ) {\n\t\t\t\t\tunmountAppEntry( node.closest( 'form' ) );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t} );\n} );\n\n$( plAutosuggestAddrObj.countrySelector ).on( 'change', ( e ) => {\n\tif ( 'GB' === e.target.value ) {\n\t\ttogglePostCodeDesc();\n\t\ttoggleSearchBtnDisplay();\n\t} else {\n\t\tunmountAppEntry( document.querySelector( plAutosuggestAddrObj.countrySelector ).closest( 'form' ) );\n\t\ttogglePostCodeDesc( false );\n\t\ttoggleSearchBtnDisplay( false );\n\t}\n} );\n\n$( function () {\n\tif ( !plAutosuggestAddrObj.isCheckout || ( plAutosuggestAddrObj.isCheckout && countryInput && 'GB' === countryInput.value ) ) {\n\t\ttogglePostCodeDesc();\n\t\ttoggleSearchBtnDisplay();\n\t}\n} );\n","module.exports = ReactDOM;","module.exports = jQuery;"],"sourceRoot":""}